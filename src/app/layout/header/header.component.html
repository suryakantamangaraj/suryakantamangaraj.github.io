<div class="navbar">
  <div class="nav-items">
    <!-- Regular Nav Items -->
    @for (item of navItems; track item) {
      @if (!item.external) {
        <a
          [routerLink]="[item.path]"
          class="nav-item"
          [attr.data-test]="item.dataTest"
          routerLinkActive="active"
          >
          {{ item.name }}
        </a>
      }
      @if (item.external) {
        <a
          [href]="item.path"
          class="nav-item"
          (click)="handleExternalNavigation($event, item.path)"
          (touchend)="handleExternalNavigation($event, item.path)"
          >
          {{ item.name }}
        </a>
      }
    }

    <!-- Scribe Dropdown -->
    <div class="dropdown">
      <a
        class="nav-item dropbtn"
        data-dropdown="scribe"
        (click)="toggleDropdown($event)"
        (touchend)="toggleDropdown($event)"
        >
        Scribe
      </a>
      <div class="dropdown-content" [class.show]="activeDropdown === 'scribe'">
        @for (item of scribeItems; track item) {
          <a
            [href]="item.path"
            (click)="handleExternalNavigation($event, item.path)"
            (touchend)="handleExternalNavigation($event, item.path)"
            >
            {{ item.name }}
          </a>
        }
      </div>
    </div>

    <!-- Misc Dropdown -->
    <div class="dropdown">
      <a
        class="nav-item dropbtn"
        data-dropdown="misc"
        (click)="toggleDropdown($event)"
        (touchend)="toggleDropdown($event)"
        >
        Misc
      </a>
      <div class="dropdown-content" [class.show]="activeDropdown === 'misc'">
        @for (item of miscItems; track item) {
          <a
            [href]="item.path"
            (click)="handleExternalNavigation($event, item.path)"
            (touchend)="handleExternalNavigation($event, item.path)"
            >
            {{ item.name }}
          </a>
        }
      </div>
    </div>
  </div>
</div>
