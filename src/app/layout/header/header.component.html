<div class="navbar">
  <div class="nav-items">
    <!-- Regular Nav Items -->
    <ng-container *ngFor="let item of navItems">
      <a
        *ngIf="!item.external"
        [routerLink]="[item.path]"
        class="nav-item"
        [attr.data-test]="item.dataTest"
        routerLinkActive="active"
      >
        {{ item.name }}
      </a>
      <a
        *ngIf="item.external"
        [href]="item.path"
        class="nav-item"
        (click)="handleExternalNavigation($event, item.path)"
        (touchend)="handleExternalNavigation($event, item.path)"
      >
        {{ item.name }}
      </a>
    </ng-container>

    <!-- Scribe Dropdown -->
    <div class="dropdown">
      <a
        class="nav-item dropbtn"
        data-dropdown="scribe"
        (click)="toggleDropdown($event)"
        (touchend)="toggleDropdown($event)"
      >
        Scribe
      </a>
      <div class="dropdown-content" [class.show]="activeDropdown === 'scribe'">
        <a
          *ngFor="let item of scribeItems"
          [href]="item.path"
          (click)="handleExternalNavigation($event, item.path)"
          (touchend)="handleExternalNavigation($event, item.path)"
        >
          {{ item.name }}
        </a>
      </div>
    </div>

    <!-- Misc Dropdown -->
    <div class="dropdown">
      <a
        class="nav-item dropbtn"
        data-dropdown="misc"
        (click)="toggleDropdown($event)"
        (touchend)="toggleDropdown($event)"
      >
        Misc
      </a>
      <div class="dropdown-content" [class.show]="activeDropdown === 'misc'">
        <a
          *ngFor="let item of miscItems"
          [href]="item.path"
          (click)="handleExternalNavigation($event, item.path)"
          (touchend)="handleExternalNavigation($event, item.path)"
        >
          {{ item.name }}
        </a>
      </div>
    </div>
  </div>
</div>
